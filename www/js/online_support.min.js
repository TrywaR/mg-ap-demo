function support_init(){support_active=$("#support_active"),support_input=$("#support_input"),support_button_send=$("#support_button_send"),support_messages=$("#support_messages"),page_support=support_messages.parents(".page_online_support"),support_interlocutor_status=$("#support_interlocutor_status"),support_input.on("change keyup input click",function(){support_input.val().length>0?support_button_send.addClass("_active_"):support_button_send.removeClass("_active_"),support_input.val().length>10?support_active.addClass("_full_height_"):support_active.removeClass("_full_height_")}),support_input.focusout(function(){support_active.removeClass("_full_height_")}),support_button_send.on("click",function(){support_send()}),support_input.on("keypress",function(t){t.ctrlKey&&13==t.keyCode&&(support_send(),console.log("send"))}),scroll_to(0,support_messages[0].scrollHeight)}function support_text_clean(t){var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(t).replace(/[&<>"'`=\/]/g,function(t){return s[t]})}function support_send(){return support_input.val().length>0&&(support_messages.append('<div class="message">'+support_text_clean(support_input.val())+"</div>"),support_input.val(""),support_button_send.removeClass("_active_"),scroll_to(0,support_messages[0].scrollHeight),support_bot()),!1}function support_bot(t){var s=[],o=Math.floor(2e3*Math.random()+500);support_interlocutor_input=Math.floor(3e3*Math.random()+1e3),support_interlocutor_out=Math.floor(1e4*Math.random()+5e3),support_interlocutor_online=Math.floor(2e3*Math.random()+500),s.push(":)"),s.push("Хех"),s.push("Всегда рада помочь!)"),s.push("Как я могу помочь?"),s.push("Отлично!"),s.push("Это очень здорово!"),s.push("Хорошо!"),s.push("Если нужна помощь, я всегда рядом!"),s.push("Для меня нет сложных задач!"),s.push("На всё готова!"),s.push("Хочу помочь!"),s.push("Уже работаю над этим!"),s.push("Это звучит восхитительно!"),s.push("Да, это я могу"),s.push("Конечно!"),s.push("Если ещё нужна какая нибудь помощь, только напишите!"),s.push("(="),s.push("Очень хочу помочь!"),s.push("(:"),support_bot_timer=setTimeout(function(){support_interlocutor_status.html("в сети"),setTimeout(function(){support_interlocutor_status.html("набирает сообщение..."),setTimeout(function(){support_messages.append('<div class="message __interlocutor">'+s[Math.floor(18*Math.random())]+"</div>"),support_interlocutor_status.html("в сети"),scroll_to(0,support_messages[0].scrollHeight),setTimeout(function(){support_interlocutor_status.html("не в сети")},support_interlocutor_out)},o)},support_interlocutor_input)},support_interlocutor_online)}