function test_complit(t){active_buttons(!1);var e=0;test_points=0,t.find(".test").each(function(){$(this).data().valid&&e++});var s=t.next(".result").find("._circle ._items span");return delta=2*Math.PI/s.length,x=0,y=0,angle=0,rotate=0,deg=360/s.length,$.each(s,function(t,e){$(this).css({left:100*Math.cos(angle)+"px",top:100*Math.sin(angle)+"px",transform:"rotate("+rotate+"deg)",transition:".3s ease "+t/s.length+"s"}),rotate+=1*deg.toFixed(2),angle+=delta}),user_points=parseInt(localStorage.getItem("user_points")),localStorage.setItem("user_points",user_points+test_points),t.next(".result").addClass("_active_"),e&&(test_success_precent=100*e/t.find(".test").length,t.next(".result").find("._circle ._data ._test_success_percent span").html(test_success_precent),test_success_precent=s.length*(test_success_precent/100),setTimeout(function(){$.each(s,function(t,e){t<=test_success_precent&&$(this).addClass("_active_")})},500)),!1}function test_init(){$(document).on("click","._test_end_",function(){active_buttons()}),$(document).on("click","._test_check_",function(){var t=$(this).parents(".test");return!(!t.find("input:checked").length>0)&&(t.data("valid",!0),t.data("points",0),t.find("input").each(function(){"radio"==$(this).attr("type")&&$(this).prop("checked")&&($(this).data().true?t.data("points",parseInt($(this).data().points)):t.data("valid",!1)),"checkbox"==$(this).attr("type")&&$(this).prop("checked")&&($(this).data().true?t.data("points",parseInt(t.data("points"))+parseInt($(this).data().points)):t.data("valid",!1))}),t.removeClass("_active_"),t.next(".test").length>0?t.next(".test").addClass("_active_"):test_complit(t.parents(".tests")),!1)})}